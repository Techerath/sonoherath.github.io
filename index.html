<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voli con Herath</title>
  <meta name="description" content="Esperienze, storie e innovazione dal mondo dell'aviazione professionale.">
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin:0; font-family: 'Inter', Arial, sans-serif; background:#183153; }
    .section { padding: 100px 20px; position:relative; }
    .timeline { border-left: 4px solid #00d4ff; margin-left: 20px; padding-left: 20px; }
    .timeline-event { margin-bottom: 40px; position: relative; }
    .timeline-event::before {
      content: '';
      position: absolute;
      left: -12px;
      top: 0;
      width: 20px;
      height: 20px;
      background: #00d4ff;
      border-radius: 50%;
      box-shadow: 0 0 8px #00d4ff77;
    }
    .nav-link { transition: color 0.2s; }
    .nav-link:hover { color: #00d4ff; }
    .lang-selector {
      background: #14213d;
      color: #fff;
      border: 1px solid #00d4ff;
      border-radius: 8px;
      padding: 5px 15px;
      font-size: 1rem;
      cursor: pointer;
      margin-left: 24px;
      outline: none;
      transition: border 0.2s;
    }
    .lang-selector:focus {
      border: 2px solid #00d4ff;
    }
    .artistic-title {
      letter-spacing: 0.05em;
      font-family: 'Montserrat', 'Inter', Arial, sans-serif;
      font-size: 2.2rem;
      font-weight: 900;
      background: linear-gradient(90deg, #FFD700, #FF8008, #FF0080, #007CF0);
      background-size: 200% 200%;
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
      animation: gradient-move 4s ease-in-out infinite alternate;
      position: relative;
      text-shadow: 0 2px 24px #fff3, 0 2px 8px #ffd70055;
      padding-bottom: 2px;
    }
    @keyframes gradient-move {
      from { background-position: 0% 50%; }
      to { background-position: 100% 50%; }
    }
    .artistic-title .underline {
      display: block;
      width: 80%;
      height: 4px;
      margin: 0 auto;
      margin-top: 2px;
      border-radius: 3px;
      background: linear-gradient(90deg, #FFD700, #FF8008, #FF0080, #007CF0);
      opacity: 0.7;
      animation: underlineGrow 2s cubic-bezier(.4,0,.2,1) forwards;
    }
    @keyframes underlineGrow {
      from { width: 0; }
      to { width: 80%; }
    }
    #timeline-popup {
      display:none; position:fixed; top:0; left:0; height:100vh; width:100vw; z-index:1000; background:rgba(15,25,40,0.46);
    }
    #timeline-popup-content {
      position: absolute;
      top: 0; left: -400px;
      width: 360px; max-width:90vw; height: 100vh;
      background: #fff;
      box-shadow: 0 0 32px #18315377;
      padding: 0;
      transition: left 0.4s cubic-bezier(.5,1.8,.5,1);
      display: flex; flex-direction:column;
    }
    @media (max-width: 500px) {
      #timeline-popup-content { width:100vw; left:-105vw; }
    }
    #timeline-popup.show #timeline-popup-content { left: 0; }
  </style>
</head>
<body class="antialiased">

<!-- METEO e FUSI ORARI -->
<div class="w-full flex flex-col md:flex-row items-center justify-between px-4 md:px-12 py-2 bg-[#13294b]/80 text-white text-sm z-30"
     style="position:relative;">
  <div class="flex items-center space-x-2">
    <span class="font-bold">Meteo:</span>
    <select id="weather-location" class="bg-[#13294b] border-none rounded px-2 py-1 text-white focus:outline-none">
      <option value="Napoli">Napoli</option>
      <option value="Roma">Roma</option>
      <option value="Milano">Milano</option>
      <option value="Washington">Washington DC</option>
      <option value="Colombo">Colombo</option>
      <option value="Beijing">Pechino</option>
      <option value="Seoul">Seoul</option>
      <option value="Oslo">Oslo</option>
    </select>
    <!-- Icona termometro digitale SVG -->
    <span id="weather-icon" style="display:inline-block;width:22px;height:22px;vertical-align:middle">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" style="color:#66e0e2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="9" y="2" width="6" height="14" rx="3" stroke="#66e0e2" fill="none"/>
        <rect x="11" y="16" width="2" height="5" rx="1" stroke="#66e0e2" fill="#66e0e2"/>
        <circle cx="12" cy="16" r="2" stroke="#66e0e2" fill="none"/>
      </svg>
    </span>
    <span id="weather-output">Caricamento...</span>
  </div>
  <div class="flex flex-wrap gap-4 mt-2 md:mt-0 md:gap-6" id="world-times">
    <!-- Ogni blocco orologio/città verrà generato da JS -->
  </div>
</div>

<!-- NAVBAR -->
<nav class="w-full fixed top-0 left-0 z-20 bg-[#14213d]/80 backdrop-blur shadow-md" style="top:54px;">
  <div class="max-w-6xl mx-auto px-6 flex justify-between items-center h-16">
    <div class="flex items-center space-x-3">
      <span class="artistic-title" id="brand-name">
        Voli con Herath
        <span class="underline"></span>
      </span>
    </div>
    <div class="flex items-center space-x-6">
      <a href="#home" class="nav-link text-white font-medium" id="nav-home">Home</a>
      <a href="#about" class="nav-link text-white font-medium" id="nav-about">Chi siamo</a>
      <a href="#galleria" class="nav-link text-white font-medium" id="nav-gallery">Galleria</a>
      <a href="#blog" class="nav-link text-white font-medium" id="nav-blog">Blog</a>
      <a href="#timeline" class="nav-link text-white font-medium" id="nav-timeline">Timeline</a>
      <a href="#news" class="nav-link text-white font-medium" id="nav-news">News</a>
      <a href="#contatti" class="nav-link text-white font-medium" id="nav-contact">Contatti</a>
      <select class="lang-selector" id="lang-selector" aria-label="Seleziona lingua">
        <option value="it">IT</option>
        <option value="en">EN</option>
      </select>
    </div>
  </div>
</nav>

<!-- HERO SECTION -->
<section id="home" class="section h-screen flex items-center justify-center relative overflow-hidden"
  style="background: linear-gradient(to top, #183153, #274472); padding-top: 120px;">
  <canvas id="skyCanvas" class="absolute inset-0 w-full h-full z-0"></canvas>
  <div class="text-center text-white relative z-10 max-w-2xl">
    <h1 class="text-5xl md:text-7xl font-extrabold mb-6 tracking-tight" data-aos="fade-down" data-aos-duration="1400" id="hero-title">
      L’eccellenza nel cielo
    </h1>
    <p class="text-2xl md:text-2xl mb-8 text-blue-100" data-aos="fade-up" data-aos-duration="1400" id="hero-desc">
      Soluzioni e storie dal mondo dell’aeronautica professionale, innovazione e passione dal 1903.
    </p>
    <a href="#contatti" class="inline-block bg-gradient-to-r from-blue-500 to-cyan-400 hover:from-cyan-400 hover:to-blue-500 text-white font-semibold py-4 px-10 rounded-full shadow-xl text-lg transition" id="hero-cta">
      Contattaci per collaborazioni
    </a>
  </div>
</section>

<!-- ABOUT SECTION -->
<section id="about" class="section bg-gradient-to-b from-[#21325e] to-[#274472] text-white">
  <div class="max-w-4xl mx-auto flex flex-col md:flex-row items-center gap-10">
    <div class="flex-1" data-aos="fade-right" data-aos-duration="1200">
      <img src="dp.jpg" alt="Herath Kavindu" class="rounded-3xl shadow-lg w-72 mx-auto md:mx-0">
    </div>
    <div class="flex-1" data-aos="fade-left" data-aos-duration="1200">
      <h2 class="text-3xl font-bold mb-4" id="about-title">Chi siamo</h2>
      <p class="text-lg text-blue-100 mb-4" id="about-desc">
        Ciao, grazie per aver visitato il mio sito!<br><br>
        Mi chiamo Herath Kavindu e sono uno studente dell’Università degli Studi di Napoli Parthenope, dove frequento il corso di laurea in Gestione e Sicurezza del Volo. Il mio sogno è diventare pilota di linea e ogni giorno lavoro per trasformare questa passione in realtà.<br><br>
        Parlo diverse lingue: inglese come lingua madre, italiano a livello avanzato, sinhala come madrelingua e sto attualmente studiando anche il norvegese.<br><br>
        In questo spazio condivido la mia passione per l’aviazione, la mia esperienza universitaria e i miei progetti personali, come la creazione di un blog dedicato al mondo del volo, con articoli, approfondimenti e notizie per appassionati e professionisti.<br><br>
        Benvenuto a bordo! ✈️
      </p>
      <ul class="list-disc pl-6 text-blue-200" id="about-list">
        <li>Consulenza tecnica e formazione</li>
        <li>Eventi e divulgazione scientifica</li>
        <li>Progetti su misura per il settore aeronautico</li>
      </ul>
    </div>
  </div>
</section>

<!-- GALLERIA -->
<section id="galleria" class="section bg-gradient-to-b from-[#274472] to-[#386fa4] text-white">
  <h2 class="text-4xl font-bold text-center mb-12" data-aos="fade-up" id="gallery-title">Galleria di Immagini</h2>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 px-6 max-w-5xl mx-auto">
    <div class="overflow-hidden rounded-2xl shadow-xl" data-aos="zoom-in" data-aos-duration="1200">
      <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=600&q=80" alt="Aereo in volo" class="w-full h-64 object-cover hover:scale-105 transition duration-500">
    </div>
    <div class="overflow-hidden rounded-2xl shadow-xl" data-aos="zoom-in" data-aos-duration="1400">
      <img src="https://images.unsplash.com/photo-1464037866556-6812c9d1c72e?auto=format&fit=crop&w=600&q=80" alt="Cockpit tra le nuvole" class="w-full h-64 object-cover hover:scale-105 transition duration-500">
    </div>
    <div class="overflow-hidden rounded-2xl shadow-xl" data-aos="zoom-in" data-aos-duration="1600">
      <img src="https://images.unsplash.com/photo-1465101162946-4377e57745c3?auto=format&fit=crop&w=600&q=80" alt="Pista di decollo" class="w-full h-64 object-cover hover:scale-105 transition duration-500">
    </div>
  </div>
</section>

<!-- BLOG SECTION -->
<section id="blog" class="section bg-gradient-to-b from-[#b0d7ff] to-[#e9f6fb] text-[#21325e]">
  <div class="max-w-5xl mx-auto">
    <h2 class="text-4xl font-bold text-center mb-12" data-aos="fade-up" id="blog-title">Blog di Aviazione</h2>
    <p class="text-xs text-blue-900 text-center mb-8">Ultima modifica: 16 agosto 2025</p>
    <!-- Blog Post 1 -->
    <article class="flex flex-col md:flex-row items-center gap-8 mb-16 bg-white/60 p-8 rounded-3xl shadow-xl" data-aos="fade-right" data-aos-duration="1200">
      <div class="flex-1">
        <!-- Immagine online aggiunta sopra il titolo -->
        <img src="https://upload.wikimedia.org/wikipedia/commons/9/97/Concorde_BA_Air_France.jpg" alt="Concorde in volo" class="rounded-2xl w-full object-cover shadow-lg mb-4">
        <img src="https://upload.wikimedia.org/wikipedia/commons/f/fb/Concorde_crash_25_July_2000.jpg" alt="Concorde Crash Report" class="rounded-2xl w-full object-cover shadow-lg mb-4 md:mb-0">
      </div>
      <div class="flex-1">
        <h3 class="text-2xl font-bold mb-2">Concorde: la tragedia di Gonesse</h3>
        <p class="mb-4 text-base">
          Il 25 luglio 2000 il Concorde si schiantò poco dopo il decollo a Gonesse, vicino Parigi, causando la morte di tutti a bordo e di quattro persone a terra.<br>
          Un evento che segnò profondamente la storia dell’aviazione moderna e la fine di un’era supersonica.
        </p>
        <img src="https://upload.wikimedia.org/wikipedia/commons/2/29/Concorde_crash_aftermath_2000.jpg" alt="Soccorritori sul luogo dell'incidente Concorde" class="rounded-xl w-full object-cover shadow-lg mb-2">
        <p class="text-sm text-blue-900">Nella foto: soccorritori al lavoro tra i rottami del Concorde.</p>
      </div>
    </article>
    <!-- Blog Post 2 -->
    <article class="flex flex-col md:flex-row items-center gap-8 mb-16 bg-white/60 p-8 rounded-3xl shadow-xl" data-aos="fade-left" data-aos-duration="1200">
      <div class="flex-1">
        <!-- Immagine online aggiunta sopra il titolo -->
        <img src="https://upload.wikimedia.org/wikipedia/commons/8/8d/Christian_Marty_pilot.jpg" alt="Christian Marty pilota" class="rounded-2xl w-full object-cover shadow-lg mb-4">
        <img src="https://upload.wikimedia.org/wikipedia/commons/d/d0/Christian_Marty_Concorde_pilot.jpg" alt="Comandante Christian Marty" class="rounded-2xl w-full object-cover shadow-lg mb-4 md:mb-0">
      </div>
      <div class="flex-1">
        <h3 class="text-2xl font-bold mb-2">Il comandante Christian Marty</h3>
        <p class="mb-4 text-base">
          “This is Captain Christian Marty, the pilot in command of Air France Flight 4590.”<br>
          Figura centrale nel volo Concorde AF 4590, il comandante Marty era un pilota esperto e rispettato nel settore.
        </p>
      </div>
    </article>
    <!-- Galleria immagini Concorde -->
    <div class="mt-20">
      <h3 class="text-2xl font-bold mb-6 text-center">Galleria Concorde</h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="overflow-hidden rounded-2xl shadow-xl" data-aos="zoom-in" data-aos-duration="1200">
          <img src="concorde_1.jpg" alt="Concorde 1" class="w-full h-64 object-cover hover:scale-105 transition duration-500">
        </div>
        <div class="overflow-hidden rounded-2xl shadow-xl" data-aos="zoom-in" data-aos-duration="1400">
          <img src="concorde_2.jpg" alt="Concorde 2" class="w-full h-64 object-cover hover:scale-105 transition duration-500">
        </div>
        <div class="overflow-hidden rounded-2xl shadow-xl" data-aos="zoom-in" data-aos-duration="1600">
          <img src="concorde_3.jpg" alt="Concorde 3" class="w-full h-64 object-cover hover:scale-105 transition duration-500">
        </div>
      </div>
    </div>
  </div>
</section>

<!-- TIMELINE -->
<section id="timeline" class="section text-white">
  <h2 class="text-4xl font-bold text-center mb-12" data-aos="fade-up" id="timeline-title">Pietre miliari dell’aviazione</h2>
  <div class="timeline max-w-4xl mx-auto">
    <div class="timeline-event" data-aos="fade-right" data-aos-duration="1200">
      <h3 class="text-2xl font-semibold cursor-pointer hover:text-blue-400 transition" id="tl-1903-title" data-timeline="1903">1903 - Il primo volo</h3>
      <p id="tl-1903-desc">I fratelli Wright realizzano il sogno di volare con il Flyer I.</p>
    </div>
    <div class="timeline-event" data-aos="fade-left" data-aos-duration="1400">
      <h3 class="text-2xl font-semibold cursor-pointer hover:text-blue-400 transition" id="tl-1947-title" data-timeline="1947">1947 - Supersonico</h3>
      <p id="tl-1947-desc">Chuck Yeager supera la barriera del suono con il Bell X-1.</p>
    </div>
    <div class="timeline-event" data-aos="fade-right" data-aos-duration="1600">
      <h3 class="text-2xl font-semibold cursor-pointer hover:text-blue-400 transition" id="tl-2019-title" data-timeline="2019">2019 - Volo elettrico</h3>
      <p id="tl-2019-desc">Il futuro decolla: il primo volo commerciale totalmente elettrico.</p>
    </div>
  </div>
</section>

<!-- POPUP TIMELINE -->
<div id="timeline-popup">
  <div id="timeline-popup-content">
    <button id="timeline-popup-close" style="margin:18px 18px 0 auto;font-size:1.8rem;background:none;border:none;color:#21325e;cursor:pointer;">&times;</button>
    <img id="timeline-popup-img" src="" alt="" style="width:100%;max-height:200px;object-fit:cover;border-radius:0 0 2rem 2rem;">
    <div style="padding:28px 20px 0 20px;">
      <h4 id="timeline-popup-title" style="font-size:1.5rem;font-weight:700;margin-bottom:12px;"></h4>
      <p id="timeline-popup-desc" style="font-size:1rem;line-height:1.6;color:#183153;"></p>
    </div>
  </div>
</div>

<!-- NEWS -->
<section id="news" class="section bg-gradient-to-b from-[#386fa4] to-[#59a5d8] text-white">
  <h2 class="text-4xl font-bold text-center mb-12" data-aos="fade-up" id="news-title">Ultime Notizie</h2>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 px-6 max-w-5xl mx-auto">
    <div class="bg-blue-800/70 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition duration-500" data-aos="flip-left" data-aos-duration="1200">
      <h3 class="text-xl font-bold mb-2" id="news-card1-title">Nuove tecnologie</h3>
      <p class="text-blue-100" id="news-card1-desc">Scopri le ultime innovazioni nel settore aeronautico.</p>
    </div>
    <!-- Google News Card -->
    <div class="bg-blue-800/70 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition duration-500 col-span-1 md:col-span-1" 
         data-aos="flip-left" data-aos-duration="1400" id="news-google-card">
      <h3 class="text-xl font-bold mb-2">Ultime notizie su mondo di aviazione</h3>
      <ul id="news-google-list" class="text-blue-100 list-disc pl-4 text-sm space-y-1">
        <li>Caricamento notizie...</li>
      </ul>
    </div>
    <div class="bg-blue-800/70 p-8 rounded-2xl shadow-lg hover:shadow-2xl transition duration-500" data-aos="flip-left" data-aos-duration="1600">
      <h3 class="text-xl font-bold mb-2" id="news-card3-title">Eventi e fiere</h3>
      <p class="text-blue-100" id="news-card3-desc">Partecipazioni e appuntamenti imperdibili nel mondo dell'aviazione.</p>
    </div>
  </div>
</section>

<!-- CONTATTI -->
<section id="contatti" class="section bg-gradient-to-b from-[#59a5d8] to-[#b0d7ff] text-[#21325e]">
  <div class="max-w-2xl mx-auto text-center" data-aos="fade-up">
    <h2 class="text-4xl font-bold mb-6" id="contact-title">Contattaci</h2>
    <p class="mb-6 text-lg" id="contact-desc">Vuoi collaborare, proporre un evento o semplicemente saperne di più? Compila il form seguente!</p>
    <div class="flex justify-center">
      <iframe src="https://docs.google.com/forms/d/e/1FAIpQLScX-lfSR5Qq1UYBvRrY6cL2n4M1-F5zC5qM4b7QzE3F5XJqzA/viewform?embedded=true"
              width="100%" height="760" frameborder="0" marginheight="0" marginwidth="0" style="background:#fff; border-radius:20px;">
        Caricamento…
      </iframe>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="bg-[#14213d] text-blue-100 text-center py-6 text-sm" id="footer">
  © 2025 Herath Kavindu • Voli con Herath • Tutti i diritti riservati
</footer>

<script>
// Traduzioni estese
const translations = {
  it: {
    brand: "Voli con Herath",
    nav: {
      home: "Home", about: "Chi siamo", gallery: "Galleria", blog: "Blog", timeline: "Timeline", news: "News", contact: "Contatti"
    },
    hero: {
      title: "L’eccellenza nel cielo",
      desc: "Soluzioni e storie dal mondo dell’aeronautica professionale, innovazione e passione dal 1903.",
      cta: "Contattaci per collaborazioni"
    },
    about: {
      title: "Chi siamo",
      desc: `Ciao, grazie per aver visitato il mio sito!
Mi chiamo Herath Kavindu e sono uno studente dell’Università degli Studi di Napoli Parthenope, dove frequento il corso di laurea in Gestione e Sicurezza del Volo. Il mio sogno è diventare pilota di linea e ogni giorno lavoro per trasformare questa passione in realtà.

Parlo diverse lingue: inglese come lingua madre, italiano a livello avanzato, sinhala come madrelingua e sto attualmente studiando anche il norvegese.

In questo spazio condivido la mia passione per l’aviazione, la mia esperienza universitaria e i miei progetti personali, come la creazione di un blog dedicato al mondo del volo, con articoli, approfondimenti e notizie per appassionati e professionisti.

Benvenuto a bordo! ✈️`,
      list: [
        "Consulenza tecnica e formazione",
        "Eventi e divulgazione scientifica",
        "Progetti su misura per il settore aeronautico"
      ]
    },
    gallery: "Galleria di Immagini",
    blog: "Blog di Aviazione",
    timeline: "Pietre miliari dell’aviazione",
    tl_1903_title: "1903 - Il primo volo",
    tl_1903_desc: "I fratelli Wright realizzano il sogno di volare con il Flyer I.",
    tl_1947_title: "1947 - Supersonico",
    tl_1947_desc: "Chuck Yeager supera la barriera del suono con il Bell X-1.",
    tl_2019_title: "2019 - Volo elettrico",
    tl_2019_desc: "Il futuro decolla: il primo volo commerciale totalmente elettrico.",
    news: "Ultime Notizie",
    news_card1_title: "Nuove tecnologie",
    news_card1_desc: "Scopri le ultime innovazioni nel settore aeronautico.",
    news_card2_title: "Sostenibilità",
    news_card2_desc: "Come il volo diventa sempre più green e accessibile.",
    news_card3_title: "Eventi e fiere",
    news_card3_desc: "Partecipazioni e appuntamenti imperdibili nel mondo dell'aviazione.",
    contact: {
      title: "Contattaci",
      desc: "Vuoi collaborare, proporre un evento o semplicemente saperne di più? Compila il form seguente!",
      name: "Nome",
      email: "Email",
      message: "Messaggio",
      submit: "Invia messaggio"
    },
    footer: "© 2025 Herath Kavindu • Voli con Herath • Tutti i diritti riservati"
  },
  en: {
    brand: "Flights with Herath",
    nav: {
      home: "Home", about: "About", gallery: "Gallery", blog: "Blog", timeline: "Timeline", news: "News", contact: "Contact"
    },
    hero: {
      title: "Excellence in the Sky",
      desc: "Solutions and stories from the world of professional aviation, innovation and passion since 1903.",
      cta: "Contact us for collaborations"
    },
    about: {
      title: "About me",
      desc: `Hello, thank you for visiting my site!
My name is Herath Kavindu and I am a student at the University of Naples Parthenope, where I am studying for a degree in Flight Management and Safety. My dream is to become an airline pilot and every day I work to turn this passion into reality.

I speak several languages: English as a native language, Italian at an advanced level, Sinhala as a mother tongue, and I am currently studying Norwegian.

In this space, I share my passion for aviation, my university experience, and my personal projects, such as the creation of a blog dedicated to the world of flight, with articles, insights, and news for enthusiasts and professionals.

Welcome on board! ✈️`,
      list: [
        "Technical consultancy and training",
        "Events and scientific dissemination",
        "Tailored projects for the aeronautical sector"
      ]
    },
    gallery: "Image Gallery",
    blog: "Aviation Blog",
    timeline: "Milestones in Aviation",
    tl_1903_title: "1903 - The First Flight",
    tl_1903_desc: "The Wright brothers realize the dream of flight with the Flyer I.",
    tl_1947_title: "1947 - Supersonic",
    tl_1947_desc: "Chuck Yeager breaks the sound barrier with the Bell X-1.",
    tl_2019_title: "2019 - Electric Flight",
    tl_2019_desc: "The future takes off: the first fully electric commercial flight.",
    news: "Latest News",
    news_card1_title: "New Technologies",
    news_card1_desc: "Discover the latest innovations in the aviation sector.",
    news_card2_title: "Sustainability",
    news_card2_desc: "How flying is becoming increasingly green and accessible.",
    news_card3_title: "Events and Fairs",
    news_card3_desc: "Participation and must-see events in the aviation world.",
    contact: {
      title: "Contact me",
      desc: "Would you like to collaborate, propose an event or simply learn more? Fill out the form below!",
      name: "Name",
      email: "Email",
      message: "Message",
      submit: "Send message"
    },
    footer: "© 2025 Herath Kavindu • Flights with Herath • All rights reserved"
  }
};

document.getElementById('lang-selector').addEventListener('change', function() {
  const lang = this.value;
  document.documentElement.lang = lang;
  document.getElementById('brand-name').innerText = translations[lang].brand;
  document.getElementById('nav-home').innerText = translations[lang].nav.home;
  document.getElementById('nav-about').innerText = translations[lang].nav.about;
  document.getElementById('nav-gallery').innerText = translations[lang].nav.gallery;
  document.getElementById('nav-blog').innerText = translations[lang].nav.blog;
  document.getElementById('nav-timeline').innerText = translations[lang].nav.timeline;
  document.getElementById('nav-news').innerText = translations[lang].nav.news;
  document.getElementById('nav-contact').innerText = translations[lang].nav.contact;
  document.getElementById('hero-title').innerText = translations[lang].hero.title;
  document.getElementById('hero-desc').innerText = translations[lang].hero.desc;
  document.getElementById('hero-cta').innerText = translations[lang].hero.cta;

  // About
  document.getElementById('about-title').innerText = translations[lang].about.title;
  document.getElementById('about-desc').innerText = translations[lang].about.desc;
  const aboutList = document.getElementById('about-list');
  aboutList.innerHTML = '';
  translations[lang].about.list.forEach(item => {
    const li = document.createElement('li');
    li.textContent = item;
    aboutList.appendChild(li);
  });

  document.getElementById('gallery-title').innerText = translations[lang].gallery;
  document.getElementById('blog-title').innerText = translations[lang].blog;
  document.getElementById('timeline-title').innerText = translations[lang].timeline;
  document.getElementById('tl-1903-title').innerText = translations[lang].tl_1903_title;
  document.getElementById('tl-1903-desc').innerText = translations[lang].tl_1903_desc;
  document.getElementById('tl-1947-title').innerText = translations[lang].tl_1947_title;
  document.getElementById('tl-1947-desc').innerText = translations[lang].tl_1947_desc;
  document.getElementById('tl-2019-title').innerText = translations[lang].tl_2019_title;
  document.getElementById('tl-2019-desc').innerText = translations[lang].tl_2019_desc;
  document.getElementById('news-title').innerText = translations[lang].news;
  document.getElementById('news-card1-title').innerText = translations[lang].news_card1_title;
  document.getElementById('news-card1-desc').innerText = translations[lang].news_card1_desc;
  document.getElementById('news-card2-title').innerText = translations[lang].news_card2_title;
  document.getElementById('news-card2-desc').innerText = translations[lang].news_card2_desc;
  document.getElementById('news-card3-title').innerText = translations[lang].news_card3_title;
  document.getElementById('news-card3-desc').innerText = translations[lang].news_card3_desc;

  // Contact
  document.getElementById('contact-title').innerText = translations[lang].contact.title;
  document.getElementById('contact-desc').innerText = translations[lang].contact.desc;
  // Il Google Form non ha placeholder localizzabili qui

  document.getElementById('footer').innerText = translations[lang].footer;
});

// --- Fusi orari con orologio rotondo ---
const timeCities = [
  { id: "rome", label: "Italia", city: "Roma", timezone: "Europe/Rome" },
  { id: "wdc", label: "USA", city: "Washington DC", timezone: "America/New_York" },
  { id: "colombo", label: "Sri Lanka", city: "Colombo", timezone: "Asia/Colombo" },
  { id: "beijing", label: "Cina", city: "Pechino", timezone: "Asia/Shanghai" },
  { id: "seoul", label: "Corea Sud", city: "Seoul", timezone: "Asia/Seoul" },
  { id: "oslo", label: "Norvegia", city: "Oslo", timezone: "Europe/Oslo" }
];

// Genera il markup dei fusi orari con orologio SVG
function renderWorldTimes() {
  let html = '';
  for(const t of timeCities) {
    html += `
    <span id="world-block-${t.id}" class="flex items-center space-x-1">
      <span class="inline-block align-middle" style="width:26px;height:26px;" id="clock-${t.id}"></span>
      <span class="font-bold">${t.label}</span> 
      <span id="time-${t.id}"></span>
    </span>
    `;
  }
  document.getElementById('world-times').innerHTML = html;
}
renderWorldTimes();

function pad2(v){ return v<10 ? "0"+v : v; }
function drawAnalogClock(canvasId, date) {
  // Usa SVG per orologio analogico
  const h = date.getHours()%12;
  const m = date.getMinutes();
  const s = date.getSeconds();
  const deg = (v, max) => (v/max)*360;
  const hourAngle = deg(h + m/60, 12);
  const minAngle = deg(m + s/60, 60);
  const secAngle = deg(s, 60);
  // SVG 26x26
  return `
  <svg viewBox="0 0 26 26" width="26" height="26">
    <circle cx="13" cy="13" r="12" fill="#21325e" stroke="#00d4ff" stroke-width="2"/>
    <line x1="13" y1="13" x2="${13+7*Math.sin(Math.PI*hourAngle/180)}" y2="${13-7*Math.cos(Math.PI*hourAngle/180)}" stroke="#ffd700" stroke-width="2.2" stroke-linecap="round"/>
    <line x1="13" y1="13" x2="${13+10*Math.sin(Math.PI*minAngle/180)}" y2="${13-10*Math.cos(Math.PI*minAngle/180)}" stroke="#fff" stroke-width="1.4" stroke-linecap="round"/>
    <line x1="13" y1="13" x2="${13+11*Math.sin(Math.PI*secAngle/180)}" y2="${13-11*Math.cos(Math.PI*secAngle/180)}" stroke="#ff0080" stroke-width="1" stroke-linecap="round"/>
    <circle cx="13" cy="13" r="1.5" fill="#00d4ff"/>
  </svg>`;
}
function updateWorldTimes() {
  for(const t of timeCities) {
    const now = new Date();
    const opts = { hour: "2-digit", minute: "2-digit", second: "2-digit", timeZone: t.timezone, hour12: false };
    const localeTime = new Date(now.toLocaleString('en-US', { timeZone: t.timezone }));
    document.getElementById("time-"+t.id).textContent = localeTime.toTimeString().slice(0,8);
    document.getElementById("clock-"+t.id).innerHTML = drawAnalogClock("clock-"+t.id, localeTime);
  }
}
setInterval(updateWorldTimes, 1000); updateWorldTimes();

// --- Meteo con icona termometro --- 
const cityCoords = {
  "Napoli":      {lat:40.85, lon:14.27},
  "Roma":        {lat:41.89, lon:12.49},
  "Milano":      {lat:45.46, lon:9.19},
  "Washington":  {lat:38.89, lon:-77.03},
  "Colombo":     {lat:6.9271, lon:79.8612},
  "Beijing":     {lat:39.90, lon:116.40},
  "Seoul":       {lat:37.56, lon:126.97},
  "Oslo":        {lat:59.91, lon:10.75}
};

async function updateWeather() {
  const city = document.getElementById('weather-location').value;
  const {lat,lon} = cityCoords[city];
  document.getElementById('weather-output').textContent = "Caricamento...";
  try {
    const resp = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weathercode&timezone=auto`);
    const data = await resp.json();
    const t = data.current.temperature_2m;
    document.getElementById('weather-output').textContent = `${city}: ${t}°C`;
  } catch(e) {
    document.getElementById('weather-output').textContent = "Errore meteo";
  }
}
document.getElementById('weather-location').addEventListener('change', updateWeather);
updateWeather();

// Timeline Popup Data
const timelineData = {
  "1903": {
    title: "1903 - Il primo volo",
    img: "https://upload.wikimedia.org/wikipedia/commons/a/a3/Wrightflyer.jpg",
    desc: "Il 17 dicembre 1903, i fratelli Wright effettuarono il primo volo controllato e motorizzato della storia con il Flyer I a Kitty Hawk, Carolina del Nord. Questo evento segnò la nascita dell'aviazione moderna."
  },
  "1947": {
    title: "1947 - Supersonico",
    img: "https://upload.wikimedia.org/wikipedia/commons/8/80/Bell_X-1_46-062.jpg",
    desc: "Il 14 ottobre 1947, Chuck Yeager, a bordo del Bell X-1, divenne il primo uomo a superare la barriera del suono in volo livellato, aprendo la strada all’era supersonica."
  },
  "2019": {
    title: "2019 - Volo elettrico",
    img: "https://upload.wikimedia.org/wikipedia/commons/0/06/Harbour_Air_eplane_first_flight.jpg",
    desc: "Nel dicembre 2019, Harbour Air e magniX hanno effettuato il primo volo commerciale completamente elettrico della storia, segnando un passo importante verso la sostenibilità nei trasporti aerei."
  }
};

function openTimelinePopup(key) {
  const d = timelineData[key];
  if(!d) return;
  document.getElementById('timeline-popup-title').innerText = d.title;
  document.getElementById('timeline-popup-img').src = d.img;
  document.getElementById('timeline-popup-img').alt = d.title;
  document.getElementById('timeline-popup-desc').innerText = d.desc;
  document.getElementById('timeline-popup').classList.add('show');
  document.getElementById('timeline-popup').style.display = 'block';
  setTimeout(()=> {
    document.getElementById('timeline-popup-content').style.left = "0";
  }, 10);
}

function closeTimelinePopup() {
  document.getElementById('timeline-popup-content').style.left = "-400px";
  setTimeout(()=> {
    document.getElementById('timeline-popup').style.display = 'none';
    document.getElementById('timeline-popup').classList.remove('show');
  }, 400);
}

document.querySelectorAll('[data-timeline]').forEach(el => {
  el.addEventListener('click', () => openTimelinePopup(el.getAttribute('data-timeline')));
});
document.getElementById('timeline-popup-close').onclick = closeTimelinePopup;
document.getElementById('timeline-popup').addEventListener('click', function(e){
  if(e.target === this) closeTimelinePopup();
});

// Google News feed per "aviazione"
async function loadAviationNews() {
  const url = "https://news.google.com/rss/search?q=aviazione+OR+aviation&hl=it&gl=IT&ceid=IT:it";
  try {
    const response = await fetch("https://api.allorigins.win/get?url=" + encodeURIComponent(url));
    const data = await response.json();
    const parser = new DOMParser();
    const xml = parser.parseFromString(data.contents, "text/xml");
    const items = xml.querySelectorAll("item");
    let html = "";
    for(let i=0; i<Math.min(items.length, 5); i++) {
      const title = items[i].querySelector("title").textContent;
      const link = items[i].querySelector("link").textContent;
      html += `<li><a href="${link}" target="_blank" rel="noopener" class="underline hover:text-blue-300">${title}</a></li>`;
    }
    document.getElementById('news-google-list').innerHTML = html;
  } catch(e) {
    document.getElementById('news-google-list').innerHTML = "<li>Impossibile caricare le notizie.</li>";
  }
}
loadAviationNews();

// ANIMAZIONE CIELO
const canvas = document.getElementById('skyCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

class Cloud {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height / 2;
    this.size = 80 + Math.random() * 100;
    this.speed = 0.2 + Math.random() * 0.3;
    this.opacity = 0.3 + Math.random() * 0.4;
  }
  draw() {
    const gradient = ctx.createRadialGradient(this.x, this.y, this.size*0.2, this.x, this.y, this.size);
    gradient.addColorStop(0, `rgba(255,255,255,${this.opacity})`);
    gradient.addColorStop(1, 'rgba(255,255,255,0)');
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
    ctx.fill();
  }
  update() {
    this.x += this.speed;
    if(this.x - this.size > canvas.width) this.x = -this.size;
    this.draw();
  }
}

class Plane {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height / 2 + canvas.height / 4;
    this.speed = 2 + Math.random() * 2;
    this.size = 20 + Math.random() * 10;
    this.trail = [];
  }
  draw() {
    this.trail.push({x:this.x, y:this.y});
    if(this.trail.length > 30) this.trail.shift();
    for(let i=0;i<this.trail.length;i++){
      const t = this.trail[i];
      ctx.fillStyle = `rgba(255,255,255,${i/this.trail.length*0.5})`;
      ctx.beginPath();
      ctx.arc(t.x, t.y, 2, 0, Math.PI*2);
      ctx.fill();
    }
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.fillStyle = '#00d4ff';
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.lineTo(-this.size, this.size/2);
    ctx.lineTo(-this.size, -this.size/2);
    ctx.closePath();
    ctx.fill();
    ctx.restore();
  }
  update() {
    this.x += this.speed;
    if(this.x - this.size > canvas.width) {
      this.x = -this.size;
      this.trail = [];
    }
    this.draw();
  }
}

const clouds = Array.from({length: 10}, () => new Cloud());
const planes = Array.from({length: 2}, () => new Plane());

function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  clouds.forEach(c => c.update());
  planes.forEach(p => p.update());
  requestAnimationFrame(animate);
}
animate();

window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});

// AOS
AOS.init();
</script>

</body>
</html>
