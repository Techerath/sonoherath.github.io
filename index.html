<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Voli con Herath</title>
  <meta name="description" content="Esperienze, storie e innovazione dal mondo dell'aviazione professionale.">
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { margin:0; font-family: 'Inter', Arial, sans-serif; background:#183153; }
    .section { padding: 100px 20px; position:relative; }
    .timeline { border-left: 4px solid #00d4ff; margin-left: 20px; padding-left: 20px; }
    .timeline-event { margin-bottom: 40px; position: relative; }
    .timeline-event::before {
      content: '';
      position: absolute;
      left: -12px;
      top: 0;
      width: 20px;
      height: 20px;
      background: #00d4ff;
      border-radius: 50%;
      box-shadow: 0 0 8px #00d4ff77;
    }
    .nav-link { transition: color 0.2s; }
    .nav-link:hover { color: #00d4ff; }
    .lang-selector {
      background: #14213d;
      color: #fff;
      border: 1px solid #00d4ff;
      border-radius: 8px;
      padding: 5px 15px;
      font-size: 1rem;
      cursor: pointer;
      margin-left: 24px;
      outline: none;
      transition: border 0.2s;
    }
    .lang-selector:focus {
      border: 2px solid #00d4ff;
    }
    .artistic-title {
      letter-spacing: 0.05em;
      font-family: 'Montserrat', 'Inter', Arial, sans-serif;
      font-size: 2.2rem;
      font-weight: 900;
      background: linear-gradient(90deg, #FFD700, #FF8008, #FF0080, #007CF0);
      background-size: 200% 200%;
      background-clip: text;
      -webkit-background-clip: text;
      color: transparent;
      -webkit-text-fill-color: transparent;
      animation: gradient-move 4s ease-in-out infinite alternate;
      position: relative;
      text-shadow: 0 2px 24px #fff3, 0 2px 8px #ffd70055;
      padding-bottom: 2px;
      display:inline-block;
    }
    @keyframes gradient-move {
      from { background-position: 0% 50%; }
      to { background-position: 100% 50%; }
    }
    .artistic-title .underline {
      display: block;
      width: 80%;
      height: 4px;
      margin: 0 auto;
      margin-top: 2px;
      border-radius: 3px;
      background: linear-gradient(90deg, #FFD700, #FF8008, #FF0080, #007CF0);
      opacity: 0.7;
      animation: underlineGrow 2s cubic-bezier(.4,0,.2,1) forwards;
    }
    @keyframes underlineGrow {
      from { width: 0; }
      to { width: 80%; }
    }
    #plane-svg-anim {
      position: absolute;
      left: 0; top: 42px;
      height: 26px;
      width: 100%;
      pointer-events: none;
      z-index: 5;
      overflow: visible;
    }
    .timeline-pop {
      display: none;
      position: absolute;
      left: 28px;
      top: 42px;
      background: #14213d;
      color: #fff;
      border-radius: 1rem;
      box-shadow: 0 2px 14px #0d2231aa;
      padding: 18px 24px;
      font-size:1rem;
      z-index: 30;
      min-width: 220px;
      max-width: 320px;
      animation: popIn .25s cubic-bezier(.6,2,.2,1);
      border: 1.5px solid #00d4ff;
    }
    @keyframes popIn {
      from { opacity:0; transform:translateY(-16px) scale(.9);}
      to   { opacity:1; transform:translateY(0) scale(1);}
    }
    .timeline-event { position: relative; }
    .timeline-pop.active { display:block;}
    .social-icons a { display:inline-block; margin:0 7px; transition:transform .15s; }
    .social-icons a:hover { transform:scale(1.2);}
    #privacy-popup-bg {
      display:none; position:fixed; top:0; left:0; width:100vw; height:100vh;
      background:rgba(10,22,38,0.74); z-index:9999;
    }
    #privacy-popup-content {
      background:#fff; color:#123; border-radius:18px; max-width:94vw; width:500px; max-height:96vh;
      position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
      box-shadow:0 4px 40px #18315366; padding:2.2rem 1.7rem 2.2rem 1.7rem; overflow-y:auto;
      font-size:1rem;
      z-index:10000;
      animation:popIn .21s cubic-bezier(.6,2,.2,1);
    }
    .privacy-close { border:none; background:none; font-size:2rem; position:absolute; right:24px; top:18px; color:#222; cursor:pointer;}
    @media (max-width:700px) {
      #privacy-popup-content { width:96vw; font-size:.97rem;}
    }
    .nav-hidden { transform:translateY(-120%); transition:transform .25s; }
    .nav-shown { transform:translateY(0); transition:transform .25s; }
    .about-plane-box {
      position: relative;
      width: 100%;
      height: 36px;
      min-height: 36px;
      margin-top: 20px;
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      justify-content: flex-start;
    }
    .about-plane-small {
      position: absolute;
      left: 0;
      top: 0;
      width: 44px;
      height: 36px;
      opacity: 0.93;
      animation: aboutPlaneFly 3.5s cubic-bezier(.7,1.5,.4,1) 1;
    }
    @keyframes aboutPlaneFly {
      from { left: -50px; opacity: 0;}
      25%  { opacity: 1;}
      to { left: calc(100% - 60px); opacity: 0.95;}
    }
    .aviazione-bg {
      background: linear-gradient(to bottom, rgba(33,50,94,0.83) 0%, rgba(39,68,114,0.95) 100%), url('https://images.unsplash.com/photo-1465101178521-c1a9136a37a4?auto=format&fit=crop&w=1200&q=80') center/cover no-repeat;
    }
    /* Weather popup styles */
    #weather-popup-bg {
      display: none;
      position: fixed;
      top: 0; left: 0; width: 100vw; height: 100vh;
      z-index: 50;
      background: rgba(10,22,38,0.0);
      pointer-events: none;
    }
    #weather-popup-bg.active {
      display: block;
      pointer-events: auto;
    }
    #weather-popup {
      position: fixed;
      right: 22px;
      top: 55px;
      width: 340px;
      max-width: 95vw;
      background: #14213d;
      color: #fff;
      border-radius: 1.2em;
      box-shadow: 0 6px 36px #13294bcc, 0 1.5px 16px #00d4ff40;
      padding: 1.3em 1.3em 1.6em 1.3em;
      z-index: 100;
      animation: popIn .18s cubic-bezier(.6,2,.2,1);
      display: none;
    }
    #weather-popup.active { display: block; }
    #weather-popup .close-btn {
      position: absolute;
      top: 10px; right: 16px;
      font-size: 1.5em;
      background: none;
      border: none;
      color: #fff;
      cursor: pointer;
      opacity: 0.64;
      transition: opacity .2s;
    }
    #weather-popup .close-btn:hover { opacity: 1; }
    #weather-popup .popup-title {
      font-weight: bold;
      font-size: 1.2em;
      margin-bottom: 0.5em;
      color: #00d4ff;
      letter-spacing: 0.02em;
    }
    #weather-popup .meteo-row {
      margin-bottom: 1em;
    }
    #weather-popup select {
      background: #20325e;
      color: #fff;
      border-radius: 8px;
      border: 1px solid #00d4ff;
      padding: 2px 8px;
      font-size: 1em;
      outline: none;
      margin-bottom: 0.5em;
    }
    #weather-popup .clock-list {
      margin-top: 6px;
      margin-bottom: 0.6em;
    }
    #weather-popup .clock-list span {
      display: flex;
      align-items: center;
      gap: 7px;
      margin-bottom: 6px;
      font-size: 0.97em;
    }
    /* Weather button (vertical dots) */
    #weather-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      width: 36px; height: 36px;
      border: none;
      background: transparent;
      cursor: pointer;
      margin-left: 8px;
      margin-right: 0;
      outline: none;
      position: relative;
      z-index: 100;
    }
    #weather-btn .dot {
      width: 6px; height: 6px;
      border-radius: 50%;
      background: #b0d7ff;
      margin: 2.2px 0;
      transition: background .15s;
      display: block;
    }
    #weather-btn:hover .dot {
      background: #00d4ff;
    }

    /* Fix overlapping: position weather-btn lower on mobile */
    @media (max-width: 700px) {
      #weather-popup {
        right: 4vw;
        top: 56px;
        width: 96vw;
        max-width: 96vw;
        padding: 1em 0.6em 1.2em 0.6em;
      }
      #weather-btn {
        margin-top: 36px;
      }
    }

    /* Make sure nav stays above everything except privacy popup */
    #main-nav {
      z-index: 20;
    }
    #main-nav.sticky {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
    }
  </style>
</head>
<body class="antialiased">

<!-- WEATHER BUTTON (fixed, always visible, above nav but not overlapped) -->
<div class="w-full flex flex-row items-center justify-end px-4 md:px-12 py-2 bg-[#13294b]/80 text-white text-sm z-30"
     style="position:relative;">
  <button id="weather-btn" aria-label="Mostra meteo e orari" style="z-index:100;">
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </button>
</div>

<!-- Weather/orari popup -->
<div id="weather-popup-bg">
  <div id="weather-popup">
    <button class="close-btn" aria-label="Chiudi popup meteo" id="weather-popup-close">&times;</button>
    <div class="popup-title">Meteo & Orari</div>
    <div class="meteo-row">
      <label for="weather-popup-location" style="font-weight:500;letter-spacing:0.03em;">Seleziona citt√†:</label>
      <select id="weather-popup-location">
        <option value="Napoli">Napoli</option>
        <option value="Roma">Roma</option>
        <option value="Milano">Milano</option>
        <option value="Washington">Washington DC</option>
        <option value="Colombo">Colombo</option>
        <option value="Beijing">Pechino</option>
        <option value="Seoul">Seoul</option>
        <option value="Oslo">Oslo</option>
      </select>
      <span id="weather-popup-output" style="margin-left:8px;"></span>
    </div>
    <div class="popup-title" style="font-size:1.08em;">Orari principali</div>
    <div id="weather-popup-times" class="clock-list"></div>
  </div>
</div>

<!-- NAVBAR -->
<nav id="main-nav" class="w-full fixed top-0 left-0 z-20 bg-[#14213d]/80 backdrop-blur shadow-md nav-shown">
  <div class="max-w-6xl mx-auto px-6 flex justify-between items-center h-16 relative">
    <div class="flex items-center space-x-3 relative">
      <span class="artistic-title relative" id="brand-name" style="padding-bottom:42px;">
        Voli con Herath
        <span class="underline"></span>
        <span id="plane-svg-container" style="display:block;position:absolute;left:0;top:42px;width:100%;height:26px;pointer-events:none;">
          <svg id="plane-svg-anim" width="100%" height="26" viewBox="0 0 340 26" fill="none">
            <line x1="14" y1="13" x2="326" y2="13" stroke="#b0d7ff" stroke-width="3" stroke-dasharray="5 7" />
            <g id="plane-icon" style="transform:translateX(0px);transition:transform 1.9s cubic-bezier(.4,1.8,.4,1);">
              <g>
                <ellipse cx="14" cy="13" rx="7" ry="3.4" fill="#b0d7ff" stroke="#274472" stroke-width="1"/>
                <rect x="11" y="10" width="6" height="6" fill="#b0d7ff" stroke="#274472" stroke-width="1" rx="1.7"/>
                <rect x="9.5" y="11.2" width="2.5" height="1.1" fill="#b0d7ff"/>
                <rect x="18" y="11.2" width="2.5" height="1.1" fill="#b0d7ff"/>
                <polygon points="14,8 16,13 12,13" fill="#ffd700"/>
                <rect x="13.1" y="4" width="1.7" height="6" rx="0.8" fill="#003153"/>
              </g>
            </g>
          </svg>
        </span>
      </span>
    </div>
    <div class="flex items-center space-x-6">
      <a href="#home" class="nav-link text-white font-medium" id="nav-home">Home</a>
      <a href="#about" class="nav-link text-white font-medium" id="nav-about">Chi siamo</a>
      <a href="#galleria" class="nav-link text-white font-medium" id="nav-gallery">Galleria</a>
      <a href="#blog" class="nav-link text-white font-medium" id="nav-blog">Blog</a>
      <a href="#timeline" class="nav-link text-white font-medium" id="nav-timeline">Timeline</a>
      <a href="#news" class="nav-link text-white font-medium" id="nav-news">News</a>
      <a href="#contatti" class="nav-link text-white font-medium" id="nav-contact">Contatti</a>
      <select class="lang-selector" id="lang-selector" aria-label="Seleziona lingua">
        <option value="it">IT</option>
        <option value="en">EN</option>
      </select>
    </div>
  </div>
</nav>

<!-- RESTO DEL SITO (UGUALE ALLA VERSIONE ORIGINALE) -->
<!-- ... (il resto delle sezioni: home, about, galleria, blog, timeline, news, contatti, footer, privacy popup) ... -->
<!-- COPIA QUI TUTTE LE SEZIONI DA index.html ORIGINALE (sono invariate) -->

<!-- HOME, ABOUT, GALLERIA, BLOG, TIMELINE, NEWS, CONTATTI, FOOTER, PRIVACY (vedi file precedente) -->

<!-- ... INCOLLA LE SEZIONI QUI ... -->
<!-- PER BREVIT√Ä NON RIPORTO TUTTO IL CONTENUTO, 
     MA NEL FILE REALE DEVI INCOLLARE TUTTO IL CODICE HTML DELLE SEZIONI COME NEL TUO index.html ORIGINALE. -->

<!-- SCRIPTS -->
<script>
/* --- NAV BAR SHOW/HIDE LOGIC --- */
let lastScroll = 0;
const nav = document.getElementById('main-nav');
let hideNavTimeout = null;
const navLinks = nav.querySelectorAll('.nav-link');
function navCheck() {
  const sc = window.scrollY || document.documentElement.scrollTop;
  // Nasconde navbar se scrolli gi√π, mostra se scrolli su o sei vicino in alto
  if (sc > 70 && sc > lastScroll) {
    nav.classList.remove('nav-shown');
    nav.classList.add('nav-hidden');
  } else if (sc < lastScroll || sc < 40) {
    nav.classList.remove('nav-hidden');
    nav.classList.add('nav-shown');
  }
  if(sc < 100) nav.classList.add('nav-shown');
  lastScroll = sc;
}
window.addEventListener('scroll', navCheck);

// Nascondi navbar quando clicchi su un link di sezione (come se vai su una nuova pagina)
navLinks.forEach(link => {
  link.addEventListener('click', function(e) {
    nav.classList.remove('nav-shown');
    nav.classList.add('nav-hidden');
    if(hideNavTimeout) clearTimeout(hideNavTimeout);
    // Ri-mostra la navbar quando torni verso l'alto/scrolli dopo 400 ms
    hideNavTimeout = setTimeout(() => {
      nav.classList.remove('nav-hidden');
      nav.classList.add('nav-shown');
    }, 800);
  });
});

// Se cambi hash (es: vai a una sezione da un link esterno), nascondi la navbar per un attimo e poi ri-mostra
window.addEventListener('hashchange', function() {
  nav.classList.remove('nav-shown');
  nav.classList.add('nav-hidden');
  setTimeout(() => {
    nav.classList.remove('nav-hidden');
    nav.classList.add('nav-shown');
  }, 800);
});

/* --- PLANE ANIMATION --- */
function animatePlane() {
  const svg = document.getElementById('plane-svg-anim');
  if (!svg) return;
  const plane = svg.querySelector('#plane-icon');
  if (!plane) return;
  plane.style.transform = `translateX(0px)`;
  setTimeout(()=>{
    plane.style.transition = "transform 2.3s cubic-bezier(.4,1.8,.4,1)";
    plane.style.transform = `translateX(312px)`;
  }, 300);
}
window.addEventListener('DOMContentLoaded', animatePlane);
document.getElementById('brand-name').addEventListener('mouseenter', animatePlane);

/* --- TIMELINE POPUP LOGIC --- */
const timelineData = {
  "1903": {
    desc: "Il 17 dicembre 1903, i fratelli Wright effettuarono il primo volo controllato e motorizzato della storia con il Flyer I a Kitty Hawk, segnando la nascita dell'aviazione moderna."
  },
  "1947": {
    desc: "Il 14 ottobre 1947, Chuck Yeager a bordo del Bell X-1 fu il primo uomo a superare la barriera del suono, aprendo l'era dei voli supersonici."
  },
  "2019": {
    desc: "Nel 2019, Harbour Air e magniX hanno effettuato il primo volo commerciale completamente elettrico, rivoluzionando la sostenibilit√† nel trasporto aereo."
  }
};
document.querySelectorAll('[data-timeline]').forEach(el=>{
  el.addEventListener('click', function(e){
    document.querySelectorAll('.timeline-pop').forEach(pop=>pop.classList.remove('active'));
    const key = this.getAttribute('data-timeline');
    const pop = document.getElementById('pop-'+key);
    pop.innerHTML = timelineData[key].desc;
    pop.classList.add('active');
    document.addEventListener('click', function handleOut(ev){
      if(!pop.contains(ev.target) && ev.target!==el) {
        pop.classList.remove('active');
        document.removeEventListener('click', handleOut);
      }
    });
  });
});

/* --- METEO/ORARI POPUP LOGIC --- */
const cityCoords = {
  "Napoli":      {lat:40.85, lon:14.27},
  "Roma":        {lat:41.89, lon:12.49},
  "Milano":      {lat:45.46, lon:9.19},
  "Washington":  {lat:38.89, lon:-77.03},
  "Colombo":     {lat:6.9271, lon:79.8612},
  "Beijing":     {lat:39.90, lon:116.40},
  "Seoul":       {lat:37.56, lon:126.97},
  "Oslo":        {lat:59.91, lon:10.75}
};
const timeCities = [
  { id: "rome", label: "Italia", city: "Roma", timezone: "Europe/Rome" },
  { id: "wdc", label: "USA", city: "Washington DC", timezone: "America/New_York" },
  { id: "colombo", label: "Sri Lanka", city: "Colombo", timezone: "Asia/Colombo" },
  { id: "beijing", label: "Cina", city: "Pechino", timezone: "Asia/Shanghai" },
  { id: "seoul", label: "Corea Sud", city: "Seoul", timezone: "Asia/Seoul" },
  { id: "oslo", label: "Norvegia", city: "Oslo", timezone: "Europe/Oslo" }
];
function drawAnalogClockPopup(date) {
  const h = date.getHours()%12;
  const m = date.getMinutes();
  const s = date.getSeconds();
  const deg = (v, max) => (v/max)*360;
  const hourAngle = deg(h + m/60, 12);
  const minAngle = deg(m + s/60, 60);
  const secAngle = deg(s, 60);
  return `
  <svg viewBox="0 0 26 26" width="22" height="22">
    <circle cx="13" cy="13" r="12" fill="#21325e" stroke="#00d4ff" stroke-width="2"/>
    <line x1="13" y1="13" x2="${13+7*Math.sin(Math.PI*hourAngle/180)}" y2="${13-7*Math.cos(Math.PI*hourAngle/180)}" stroke="#ffd700" stroke-width="2.2" stroke-linecap="round"/>
    <line x1="13" y1="13" x2="${13+10*Math.sin(Math.PI*minAngle/180)}" y2="${13-10*Math.cos(Math.PI*minAngle/180)}" stroke="#fff" stroke-width="1.4" stroke-linecap="round"/>
    <line x1="13" y1="13" x2="${13+11*Math.sin(Math.PI*secAngle/180)}" y2="${13-11*Math.cos(Math.PI*secAngle/180)}" stroke="#ff0080" stroke-width="1" stroke-linecap="round"/>
    <circle cx="13" cy="13" r="1.5" fill="#00d4ff"/>
  </svg>`;
}
function updatePopupTimes() {
  let html = '';
  for(const t of timeCities) {
    const now = new Date();
    const localeTime = new Date(now.toLocaleString('en-US', { timeZone: t.timezone }));
    html += `<span>
      <span style="width:22px;display:inline-block;vertical-align:middle">${drawAnalogClockPopup(localeTime)}</span>
      <span class="font-bold">${t.label}</span> 
      <span>${localeTime.toTimeString().slice(0,8)}</span>
    </span>`;
  }
  document.getElementById('weather-popup-times').innerHTML = html;
}
setInterval(updatePopupTimes, 1000); updatePopupTimes();

async function updateWeatherPopup() {
  const city = document.getElementById('weather-popup-location').value;
  const {lat,lon} = cityCoords[city];
  const out = document.getElementById('weather-popup-output');
  out.textContent = "Caricamento...";
  try {
    const resp = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,weathercode&timezone=auto`);
    const data = await resp.json();
    const t = data.current.temperature_2m;
    out.textContent = `${t}¬∞C`;
  } catch(e) {
    out.textContent = "Errore";
  }
}
document.getElementById('weather-popup-location').addEventListener('change', updateWeatherPopup);
updateWeatherPopup();

const weatherBtn = document.getElementById('weather-btn');
const weatherPopupBg = document.getElementById('weather-popup-bg');
const weatherPopup = document.getElementById('weather-popup');
const weatherPopupClose = document.getElementById('weather-popup-close');
weatherBtn.onclick = function() {
  weatherPopupBg.classList.add('active');
  weatherPopup.classList.add('active');
  updateWeatherPopup();
  updatePopupTimes();
};
weatherPopupClose.onclick = function() {
  weatherPopupBg.classList.remove('active');
  weatherPopup.classList.remove('active');
};
weatherPopupBg.onclick = function(e) {
  if(e.target === weatherPopupBg) {
    weatherPopupBg.classList.remove('active');
    weatherPopup.classList.remove('active');
  }
};

/* --- NEWS GOOGLE --- */
async function loadAviationNews() {
  const url = "https://news.google.com/rss/search?q=aviazione+OR+aviation&hl=it&gl=IT&ceid=IT:it";
  try {
    const response = await fetch("https://api.allorigins.win/get?url=" + encodeURIComponent(url));
    const data = await response.json();
    const parser = new DOMParser();
    const xml = parser.parseFromString(data.contents, "text/xml");
    const items = xml.querySelectorAll("item");
    let html = "";
    for(let i=0; i<Math.min(items.length, 5); i++) {
      const title = items[i].querySelector("title").textContent;
      const link = items[i].querySelector("link").textContent;
      html += `<li><a href="${link}" target="_blank" rel="noopener" class="underline hover:text-blue-300">${title}</a></li>`;
    }
    document.getElementById('news-google-list').innerHTML = html;
  } catch(e) {
    document.getElementById('news-google-list').innerHTML = "<li>Impossibile caricare le notizie.</li>";
  }
}
loadAviationNews();

/* --- PRIVACY POPUP --- */
document.getElementById('privacy-link').onclick = function(e){
  e.preventDefault();
  document.getElementById('privacy-popup-bg').style.display = 'block';
};
document.getElementById('privacy-close').onclick = function(){
  document.getElementById('privacy-popup-bg').style.display = 'none';
};
document.getElementById('privacy-popup-bg').onclick = function(e){
  if(e.target === this) this.style.display = 'none';
};

/* --- SKY CANVAS ANIMATION --- */
const canvas = document.getElementById('skyCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
class Cloud {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height / 2;
    this.size = 80 + Math.random() * 100;
    this.speed = 0.2 + Math.random() * 0.3;
    this.opacity = 0.3 + Math.random() * 0.4;
  }
  draw() {
    const gradient = ctx.createRadialGradient(this.x, this.y, this.size*0.2, this.x, this.y, this.size);
    gradient.addColorStop(0, `rgba(255,255,255,${this.opacity})`);
    gradient.addColorStop(1, 'rgba(255,255,255,0)');
    ctx.fillStyle = gradient;
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.size, 0, Math.PI*2);
    ctx.fill();
  }
  update() {
    this.x += this.speed;
    if(this.x - this.size > canvas.width) this.x = -this.size;
    this.draw();
  }
}
class Plane {
  constructor() {
    this.x = Math.random() * canvas.width;
    this.y = Math.random() * canvas.height / 2 + canvas.height / 4;
    this.speed = 2 + Math.random() * 2;
    this.size = 20 + Math.random() * 10;
    this.trail = [];
  }
  draw() {
    this.trail.push({x:this.x, y:this.y});
    if(this.trail.length > 30) this.trail.shift();
    for(let i=0;i<this.trail.length;i++){
      const t = this.trail[i];
      ctx.fillStyle = `rgba(255,255,255,${i/this.trail.length*0.5})`;
      ctx.beginPath();
      ctx.arc(t.x, t.y, 2, 0, Math.PI*2);
      ctx.fill();
    }
    ctx.save();
    ctx.translate(this.x, this.y);
    ctx.fillStyle = '#00d4ff';
    ctx.beginPath();
    ctx.moveTo(0,0);
    ctx.lineTo(-this.size, this.size/2);
    ctx.lineTo(-this.size, -this.size/2);
    ctx.closePath();
    ctx.fill();
    ctx.restore();
  }
  update() {
    this.x += this.speed;
    if(this.x - this.size > canvas.width) {
      this.x = -this.size;
      this.trail = [];
    }
    this.draw();
  }
}
const clouds = Array.from({length: 10}, () => new Cloud());
const planes = Array.from({length: 2}, () => new Plane());
function animate() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  clouds.forEach(c => c.update());
  planes.forEach(p => p.update());
  requestAnimationFrame(animate);
}
animate();
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
AOS.init();
</script>
</body>
</html>
